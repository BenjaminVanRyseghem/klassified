/**
 * @license almond 0.3.2 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

!function(e,n){"function"==typeof define&&define.amd?define(n):e.objectjs=n(e.$)}(this,function(e){var n,t,s;return function(e){function r(e,n){return y.call(e,n)}function i(e,n){var t,s,r,i,c,o,u,a,f,l,p,b,h=n&&n.split("/"),g=v.map,d=g&&g["*"]||{};if(e){for(e=e.split("/"),c=e.length-1,v.nodeIdCompat&&x.test(e[c])&&(e[c]=e[c].replace(x,"")),"."===e[0].charAt(0)&&h&&(b=h.slice(0,h.length-1),e=b.concat(e)),f=0;f<e.length;f++)if(p=e[f],"."===p)e.splice(f,1),f-=1;else if(".."===p){if(0===f||1===f&&".."===e[2]||".."===e[f-1])continue;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}if((h||d)&&g){for(t=e.split("/"),f=t.length;f>0;f-=1){if(s=t.slice(0,f).join("/"),h)for(l=h.length;l>0;l-=1)if(r=g[h.slice(0,l).join("/")],r&&(r=r[s])){i=r,o=f;break}if(i)break;!u&&d&&d[s]&&(u=d[s],a=f)}!i&&u&&(i=u,o=a),i&&(t.splice(0,o,i),e=t.join("/"))}return e}function c(n,t){return function(){var s=j.call(arguments,0);return"string"!=typeof s[0]&&1===s.length&&s.push(null),b.apply(e,s.concat([n,t]))}}function o(e){return function(n){return i(n,e)}}function u(e){return function(n){d[e]=n}}function a(n){if(r(E,n)){var t=E[n];delete E[n],m[n]=!0,p.apply(e,t)}if(!r(d,n)&&!r(m,n))throw new Error("No "+n);return d[n]}function f(e){var n,t=e?e.indexOf("!"):-1;return t>-1&&(n=e.substring(0,t),e=e.substring(t+1,e.length)),[n,e]}function l(e){return function(){return v&&v.config&&v.config[e]||{}}}var p,b,h,g,d={},E={},v={},m={},y=Object.prototype.hasOwnProperty,j=[].slice,x=/\.js$/;h=function(e,n){var t,s=f(e),r=s[0];return e=s[1],r&&(r=i(r,n),t=a(r)),r?e=t&&t.normalize?t.normalize(e,o(n)):i(e,n):(e=i(e,n),s=f(e),r=s[0],e=s[1],r&&(t=a(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:t}},g={require:function(e){return c(e)},exports:function(e){var n=d[e];return"undefined"!=typeof n?n:d[e]={}},module:function(e){return{id:e,uri:"",exports:d[e],config:l(e)}}},p=function(n,t,s,i){var o,f,l,p,b,v,y=[],j=typeof s;if(i=i||n,"undefined"===j||"function"===j){for(t=!t.length&&s.length?["require","exports","module"]:t,b=0;b<t.length;b+=1)if(p=h(t[b],i),f=p.f,"require"===f)y[b]=g.require(n);else if("exports"===f)y[b]=g.exports(n),v=!0;else if("module"===f)o=y[b]=g.module(n);else if(r(d,f)||r(E,f)||r(m,f))y[b]=a(f);else{if(!p.p)throw new Error(n+" missing "+f);p.p.load(p.n,c(i,!0),u(f),{}),y[b]=d[f]}l=s?s.apply(d[n],y):void 0,n&&(o&&o.exports!==e&&o.exports!==d[n]?d[n]=o.exports:l===e&&v||(d[n]=l))}else n&&(d[n]=s)},n=t=b=function(n,t,s,r,i){if("string"==typeof n)return g[n]?g[n](t):a(h(n,t).f);if(!n.splice){if(v=n,v.deps&&b(v.deps,v.callback),!t)return;t.splice?(n=t,t=s,s=null):n=e}return t=t||function(){},"function"==typeof s&&(s=r,r=i),r?p(e,n,t,s):setTimeout(function(){p(e,n,t,s)},4),b},b.config=function(e){return b(e)},n._defined=d,s=function(e,n,t){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(t=n,n=[]),r(d,e)||r(E,e)||(E[e]=[e,n,t])},s.amd={jQuery:!0}}(),s("object",[],function(){function e(n,t){n=n||{},t=t||{};var s={};return s.getClass=function(){return e},t.initialize=function(){},t.subclassResponsibility=i,t.get=function(e,n){n||(n=function(){return t[e]}),s["get"+r(e)]=n},t.set=function(e,n){n||(n=function(n){return t[e]=n,n}),s["set"+r(e)]=n},s.getClass().extensions.forEach(function(e){e(s,t)}),s}function n(e,n){Object.keys(e).forEach(function(t){if("function"==typeof n[t]&&"function"==typeof e[t]&&c.test(e[t])&&!e[t].superInstalled){var s=n[t];e[t]=function(n,t){return function(){var n=e["super"];e["super"]=s;var r=t.apply(e,arguments);return e["super"]=n,void 0===e["super"]&&delete e["super"],r}}(t,e[t]),e[t].superInstalled=!0}})}function t(e){throw new Error("Cannot instantiate an instance of an abstract class")}function s(e){throw new Error("Cannot create new instances of a singleton class, use `instance` instead.")}function r(e){return e[0].toUpperCase()+e.slice(1)}function i(){throw new Error("Subclass responsibility")}e.subclasses=[],e.allSubclasses=function(){var e=this.subclasses.slice();return this.subclasses.forEach(function(n){n.allSubclasses().forEach(function(n){e.push(n)})}),e},e.subclassResponsibility=i,e.extensions=[];var c=/\bsuper\b/;return e.subclass=function(e){function r(o,u,a){o=o||{},u=u||{},r.isAbstract&&!a&&t(i),r.isSingleton&&!a&&s(i);var f=i(o,u,!0);f.getClass=function(){return r};var l=Object.assign({},f),p=Object.assign({},u);return r.extensions.forEach(function(e){e(f,u)}),e(f,u),c.test(e)&&(n(f,l),n(u,p)),a||u.initialize(o),f}var i=this;return r.superclass=i,r.subclasses=[],i.subclasses.push(r),r.classBuilder=i.classBuilder,r.classBuilder(r),r},e.singletonSubclass=function(e){var n=this.subclass(e),t=n();return n.isSingleton=!0,n.instance=function(){return t},n},e.abstractSubclass=function(e){var n=this.subclass(e);return n.isAbstract=!0,n},e["class"]=function(n){var t=this;if(t===e)throw new Error("object class should not be extended.");var s=t.classBuilder;t.classBuilder=function(e){s(e),n(e)},t.classBuilder(t)},e.classBuilder=function(n){n["class"]=e["class"],n.subclass=e.subclass,n.singletonSubclass=e.singletonSubclass,n.abstractSubclass=e.abstractSubclass,n.allSubclasses=e.allSubclasses,n.subclassResponsibility=i,n.extend=e.extend,n.extensions=[]},e.extend=function(e){this.extensions.push(e)},"function"!=typeof Object.assign&&!function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),t=1;t<arguments.length;t++){var s=arguments[t];if(void 0!==s&&null!==s)for(var r in s)s.hasOwnProperty(r)&&(n[r]=s[r])}return n}}(),e}),s("testCase",["./object"],function(e){var n=e.abstractSubclass(function(e,n){function t(e,t){n.force()?fdescribe(e,function(){t()}):describe(e,function(){t()})}n.initialize=function(e){n["super"](e);var s=n.registeredTests();t(n.name(),function(){beforeEach(n.beforeEach),afterEach(n.afterEach),beforeAll(n.beforeAll),afterAll(n.afterAll),s.forEach(function(e){it(e.name,e.fn)})})},n.force=function(){return!1},n.beforeEach=function(){},n.beforeAll=function(){},n.afterEach=function(){},n.afterAll=function(){},n.name=function(){return n.subclassResponsibility},n.expect=expect,n.spyOn=spyOn,n.registeredTests=function(){var e=[],t=/Test$/;return Object.keys(n).forEach(function(s){"function"==typeof n[s]&&t.test(s)&&e.push({name:n.buildTestName(s),fn:n[s]})}),e},n.buildTestName=function(e){e=e.slice(0,-4);var n=/([A-Z][^A-Z]*)/g;return e=e.replace(n," $1"),e=e.toLowerCase()}});return n["class"](function(e){e.isTestCase=function(){return!0},e.subclass=function(n){return function(t){var s=n.apply(e,[t]),r=s();return s.isSingleton=!0,s.instance=function(){return r},s}}(e.subclass)}),n}),s("propertiesEventEmitter",["./object"],function(e){return e.subclass(function(e,n){n.initialize=function(e){n["super"](e),n.instance=e.instance,n.accessListeners={},n.changeListeners={}},e.onAccess=function(e,t){n.accessListeners[e]||(n.accessListeners[e]=[]),-1===n.accessListeners[e].indexOf(t)&&n.accessListeners[e].push(t)},e.onChange=function(e,t){n.changeListeners[e]||(n.changeListeners[e]=[]),-1===n.changeListeners[e].indexOf(t)&&n.changeListeners[e].push(t)},e.emitAccess=function(e){n.accessListeners[e]&&n.accessListeners[e].forEach(function(t){t(n.instance,e)})},e.emitChange=function(e,t){n.changeListeners[e]&&n.changeListeners[e].forEach(function(s){s(n.instance,e,t)})}})}),s("globalPropertyEventEmitter",["./object"],function(e){return e.singletonSubclass(function(e,n){n.initialize=function(e){n["super"](e),n.accessListeners=[],n.changeListeners=[]},e.onAccess=function(e){n.accessListeners.push(e)},e.onChange=function(e){n.changeListeners.push(e)},e.emitAccess=function(e,t){n.accessListeners.forEach(function(n){n(e,t)})},e.emitChange=function(e,t,s){n.changeListeners.forEach(function(n){n(e,t,s)})}})}),s("property",["./object","./propertiesEventEmitter","./globalPropertyEventEmitter"],function(e,n,t){e.extend(function(e,s){function r(n){var r=s.ensurePropertiesEventEmitter();r.emitAccess(n),t.instance().emitAccess(e,n)}function i(n,r){var i=s.ensurePropertiesEventEmitter();i.emitChange(n,r),t.instance().emitChange(e,n,r)}e.onPropertyAccess=function(e,n){var t=s.ensurePropertiesEventEmitter();t.onAccess(e,n)},e.onPropertyChange=function(e,n){var t=s.ensurePropertiesEventEmitter();t.onChange(e,n)},s.property=function(e,n){var t=n;Object.defineProperty(s,e,{configurable:!0,enumerable:!0,get:function(){return r(e),t},set:function(n){t=n,i(e,t)}})},s.ensurePropertiesEventEmitter=function(){return s.propertiesEventEmitter?s.propertiesEventEmitter:(s.propertiesEventEmitter=n({instance:e}),s.propertiesEventEmitter)}})}),s("objectjs",["./object","./testCase","./property","./globalPropertyEventEmitter"],function(e,n,t,s){return{object:e,testCase:n,property:t,propertyEventEmitter:s}}),t(["objectjs"]),t("objectjs")});