/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

!function(e,n){"function"==typeof define&&define.amd?define(n):e.klassified=n(e.$)}(this,function(e){var n,t,s;return function(e){function i(e,n){return j.call(e,n)}function r(e,n){var t,s,i,r,c,o,u,a,f,l,p,b,h=n&&n.split("/"),d=m.map,g=d&&d["*"]||{};if(e){for(e=e.split("/"),c=e.length-1,m.nodeIdCompat&&C.test(e[c])&&(e[c]=e[c].replace(C,"")),"."===e[0].charAt(0)&&h&&(b=h.slice(0,h.length-1),e=b.concat(e)),f=0;f<e.length;f++)if(p=e[f],"."===p)e.splice(f,1),f-=1;else if(".."===p){if(0===f||1===f&&".."===e[2]||".."===e[f-1])continue;f>0&&(e.splice(f-1,2),f-=2)}e=e.join("/")}if((h||g)&&d){for(t=e.split("/"),f=t.length;f>0;f-=1){if(s=t.slice(0,f).join("/"),h)for(l=h.length;l>0;l-=1)if(i=d[h.slice(0,l).join("/")],i&&(i=i[s])){r=i,o=f;break}if(r)break;!u&&g&&g[s]&&(u=g[s],a=f)}!r&&u&&(r=u,o=a),r&&(t.splice(0,o,r),e=t.join("/"))}return e}function c(n,t){return function(){var s=x.call(arguments,0);return"string"!=typeof s[0]&&1===s.length&&s.push(null),h.apply(e,s.concat([n,t]))}}function o(e){return function(n){return r(n,e)}}function u(e){return function(n){E[e]=n}}function a(n){if(i(v,n)){var t=v[n];delete v[n],y[n]=!0,b.apply(e,t)}if(!i(E,n)&&!i(y,n))throw new Error("No "+n);return E[n]}function f(e){var n,t=e?e.indexOf("!"):-1;return t>-1&&(n=e.substring(0,t),e=e.substring(t+1,e.length)),[n,e]}function l(e){return e?f(e):[]}function p(e){return function(){return m&&m.config&&m.config[e]||{}}}var b,h,d,g,E={},v={},m={},y={},j=Object.prototype.hasOwnProperty,x=[].slice,C=/\.js$/;d=function(e,n){var t,s=f(e),i=s[0],c=n[1];return e=s[1],i&&(i=r(i,c),t=a(i)),i?e=t&&t.normalize?t.normalize(e,o(c)):r(e,c):(e=r(e,c),s=f(e),i=s[0],e=s[1],i&&(t=a(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:t}},g={require:function(e){return c(e)},exports:function(e){var n=E[e];return"undefined"!=typeof n?n:E[e]={}},module:function(e){return{id:e,uri:"",exports:E[e],config:p(e)}}},b=function(n,t,s,r){var o,f,p,b,h,m,j,x=[],C=typeof s;if(r=r||n,m=l(r),"undefined"===C||"function"===C){for(t=!t.length&&s.length?["require","exports","module"]:t,h=0;h<t.length;h+=1)if(b=d(t[h],m),f=b.f,"require"===f)x[h]=g.require(n);else if("exports"===f)x[h]=g.exports(n),j=!0;else if("module"===f)o=x[h]=g.module(n);else if(i(E,f)||i(v,f)||i(y,f))x[h]=a(f);else{if(!b.p)throw new Error(n+" missing "+f);b.p.load(b.n,c(r,!0),u(f),{}),x[h]=E[f]}p=s?s.apply(E[n],x):void 0,n&&(o&&o.exports!==e&&o.exports!==E[n]?E[n]=o.exports:p===e&&j||(E[n]=p))}else n&&(E[n]=s)},n=t=h=function(n,t,s,i,r){if("string"==typeof n)return g[n]?g[n](t):a(d(n,l(t)).f);if(!n.splice){if(m=n,m.deps&&h(m.deps,m.callback),!t)return;t.splice?(n=t,t=s,s=null):n=e}return t=t||function(){},"function"==typeof s&&(s=i,i=r),i?b(e,n,t,s):setTimeout(function(){b(e,n,t,s)},4),h},h.config=function(e){return h(e)},n._defined=E,s=function(e,n,t){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(t=n,n=[]),i(E,e)||i(v,e)||(v[e]=[e,n,t])},s.amd={jQuery:!0}}(),s("object",[],function(){function e(n,t){n=n||{},t=t||{};var s={};return s.getClass=function(){return e},t.preInitialize=function(){},t.initialize=function(){},t.postInitialize=function(){},t.subclassResponsibility=r,t.get=function(e,n){n||(n=function(){return t[e]}),s["get"+i(e)]=n},t.set=function(e,n){n||(n=function(n){return t[e]=n,n}),s["set"+i(e)]=n},s.getClass().extensions.forEach(function(e){e(s,t)}),s}function n(e,n){Object.keys(e).forEach(function(t){if("function"==typeof n[t]&&"function"==typeof e[t]&&c.test(e[t])&&!e[t].superInstalled){var s=n[t];e[t]=function(n,t){return function(){var n=e.super;e.super=s;var i=t.apply(e,arguments);return e.super=n,void 0===e.super&&delete e.super,i}}(t,e[t]),e[t].superInstalled=!0}})}function t(e){throw new Error("Cannot instantiate an abstract class")}function s(e){throw new Error("Cannot create new instances of a singleton class, use `instance` instead.")}function i(e){return e[0].toUpperCase()+e.slice(1)}function r(){throw new Error("Subclass responsibility")}e.subclasses=[],e.allSubclasses=function(){var e=this.subclasses.slice();return this.subclasses.forEach(function(n){n.allSubclasses().forEach(function(n){e.push(n)})}),e},e.subclassResponsibility=r,e.extensions=[];var c=/\bsuper\b/;return e.subclass=function(e){function i(o,u,a){o=o||{},u=u||{},i.isAbstract&&!a&&t(r),i.isSingleton&&!a&&s(r);var f=r(o,u,!0);f.getClass=function(){return i};var l=Object.assign({},f),p=Object.assign({},u);return i.extensions.forEach(function(e){e(f,u)}),e(f,u),c.test(e)&&(n(f,l),n(u,p)),a||(u.preInitialize(o),u.initialize(o),u.postInitialize(o)),f}var r=this;return i.superclass=r,i.subclasses=[],r.subclasses.push(i),i.classBuilder=r.classBuilder,i.classBuilder(i),i},e.singletonSubclass=function(e){var n=this.subclass(e),t=n();return n.isSingleton=!0,n.instance=function(){return t},n},e.abstractSubclass=function(e){var n=this.subclass(e);return n.isAbstract=!0,n},e.class=function(n){var t=this;if(t===e)throw new Error("object class should not be extended.");var s=t.classBuilder;t.classBuilder=function(e){s(e),n(e)},t.classBuilder(t)},e.classBuilder=function(n){n.class=e.class,n.subclass=e.subclass,n.singletonSubclass=e.singletonSubclass,n.abstractSubclass=e.abstractSubclass,n.allSubclasses=e.allSubclasses,n.subclassResponsibility=r,n.extend=e.extend,n.extensions=[]},e.extend=function(e){this.extensions.push(e)},"function"!=typeof Object.assign&&!function(){Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),t=1;t<arguments.length;t++){var s=arguments[t];if(void 0!==s&&null!==s)for(var i in s)s.hasOwnProperty(i)&&(n[i]=s[i])}return n}}(),e}),s("testCase",["./object"],function(e){var n=e.abstractSubclass(function(e,n){function t(e,t){n.force()?fdescribe(e,function(){t()}):describe(e,function(){t()})}n.initialize=function(e){n.super(e);var s=n.registeredTests();t(n.name(),function(){beforeEach(n.beforeEach),afterEach(n.afterEach),beforeAll(n.beforeAll),afterAll(n.afterAll),s.forEach(function(e){it(e.name,e.fn)})})},n.force=function(){return!1},n.beforeEach=function(){},n.beforeAll=function(){},n.afterEach=function(){},n.afterAll=function(){},n.name=function(){return n.subclassResponsibility},n.expect=expect,n.spyOn=spyOn,n.registeredTests=function(){var e=[],t=/Test$/;return Object.keys(n).forEach(function(s){"function"==typeof n[s]&&t.test(s)&&e.push({name:n.buildTestName(s),fn:n[s]})}),e},n.buildTestName=function(e){e=e.slice(0,-4);var n=/([A-Z][^A-Z]*)/g;return e=e.replace(n," $1"),e=e.toLowerCase()}});return n.class(function(e){e.isTestCase=function(){return!0},e.subclass=function(n){return function(t){var s=n.apply(e,[t]),i=s();return s.isSingleton=!0,s.instance=function(){return i},s}}(e.subclass)}),n}),s("propertiesEventEmitter",["./object"],function(e){return e.subclass(function(e,n){n.initialize=function(e){n.super(e),n.instance=e.instance,n.accessListeners={},n.changeListeners={}},e.onAccess=function(e,t){n.accessListeners[e]||(n.accessListeners[e]=[]),n.accessListeners[e].indexOf(t)===-1&&n.accessListeners[e].push(t)},e.onChange=function(e,t){n.changeListeners[e]||(n.changeListeners[e]=[]),n.changeListeners[e].indexOf(t)===-1&&n.changeListeners[e].push(t)},e.emitAccess=function(e){n.accessListeners[e]&&n.accessListeners[e].forEach(function(t){t(n.instance,e)})},e.emitChange=function(e,t){n.changeListeners[e]&&n.changeListeners[e].forEach(function(s){s(n.instance,e,t)})}})}),s("globalPropertyEventEmitter",["./object"],function(e){return e.singletonSubclass(function(e,n){n.initialize=function(e){n.super(e),n.accessListeners=[],n.changeListeners=[]},e.onAccess=function(e){n.accessListeners.push(e)},e.onChange=function(e){n.changeListeners.push(e)},e.emitAccess=function(e,t){n.accessListeners.forEach(function(n){n(e,t)})},e.emitChange=function(e,t,s){n.changeListeners.forEach(function(n){n(e,t,s)})}})}),s("property",["./object","./propertiesEventEmitter","./globalPropertyEventEmitter"],function(e,n,t){e.extend(function(e,s){function i(n){var i=s.ensurePropertiesEventEmitter();i.emitAccess(n),t.instance().emitAccess(e,n)}function r(n,i){var r=s.ensurePropertiesEventEmitter();r.emitChange(n,i),t.instance().emitChange(e,n,i)}e.onPropertyAccess=function(e,n){var t=s.ensurePropertiesEventEmitter();t.onAccess(e,n)},e.onPropertyChange=function(e,n){var t=s.ensurePropertiesEventEmitter();t.onChange(e,n)},s.property=function(e,n){var t=n;Object.defineProperty(s,e,{configurable:!0,enumerable:!0,get:function(){return i(e),t},set:function(n){t=n,r(e,t)}})},s.ensurePropertiesEventEmitter=function(){return s.propertiesEventEmitter?s.propertiesEventEmitter:(s.propertiesEventEmitter=n({instance:e}),s.propertiesEventEmitter)}})}),s("klassified",["./object","./testCase","./property","./globalPropertyEventEmitter"],function(e,n,t,s){return{object:e,testCase:n,property:t,propertyEventEmitter:s}}),t(["klassified"]),t("klassified")});