!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).klassified=e()}}(function(){return function e(t,n,s){function r(c,u){if(!n[c]){if(!t[c]){var o="function"==typeof require&&require;if(!u&&o)return o(c,!0);if(i)return i(c,!0);var a=new Error("Cannot find module '"+c+"'");throw a.code="MODULE_NOT_FOUND",a}var l=n[c]={exports:{}};t[c][0].call(l.exports,function(e){var n=t[c][1][e];return r(n||e)},l,l.exports,e,t,n,s)}return n[c].exports}for(var i="function"==typeof require&&require,c=0;c<s.length;c++)r(s[c]);return r}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=function(e){return e&&e.__esModule?e:{default:e}}(e("./object"));n.default=s.default.singletonSubclass(function(e,t){t.initialize=function(e){t.super(e),t.accessListeners=[],t.changeListeners=[]},e.onAccess=function(e){t.accessListeners.push(e)},e.onChange=function(e){t.changeListeners.push(e)},e.emitAccess=function(e,n){t.accessListeners.forEach(function(t){t(e,n)})},e.emitChange=function(e,n,s){t.changeListeners.forEach(function(t){t(e,n,s)})}})},{"./object":3}],2:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0}),n.propertyEventEmitter=n.testCase=n.object=void 0;var r=s(e("./object")),i=s(e("./testCase")),c=s(e("./globalPropertyEventEmitter"));e("./property"),n.object=r.default,n.testCase=i.default,n.propertyEventEmitter=c.default,n.default={object:r.default,testCase:i.default,propertyEventEmitter:c.default}},{"./globalPropertyEventEmitter":1,"./object":3,"./property":5,"./testCase":6}],3:[function(e,t,n){"use strict";function s(e,t){e=e||{},t=t||{};var n={};return n.getClass=function(){return s},t.preInitialize=function(){},t.initialize=function(){},t.postInitialize=function(){},t.subclassResponsibility=a,t.get=function(e,s){s||(s=function(){return t[e]}),n["get"+o(e)]=s},t.set=function(e,s){s||(s=function(n){return t[e]=n,n}),n["set"+o(e)]=s},n.getClass().extensions.forEach(function(e){e(n,t)}),n}function r(e,t,n,s){i(e,t,n,s).forEach(function(n){e[n].superInstalled||(e[n]=function(e,t,n){return function(){var s=e.super;e.super=n;var r=t.apply(e,arguments);return e.super=s,void 0===e.super&&delete e.super,r}}(e,e[n],t[n]),e[n].superInstalled=!0)})}function i(e,t,n,s){return n.methodsWithSuperCall||Object.defineProperty(n,"methodsWithSuperCall",{enumerable:!1,writable:!0,value:{}}),n.methodsWithSuperCall[s]?n.methodsWithSuperCall[s]:(n.methodsWithSuperCall[s]=Object.keys(e).filter(function(n){return"function"==typeof t[n]&&"function"==typeof e[n]&&l.test(e[n])}),n.methodsWithSuperCall[s])}function c(e){throw new Error("Cannot instantiate an abstract class")}function u(e){throw new Error("Cannot create new instances of a singleton class, use `instance` instead.")}function o(e){return e[0].toUpperCase()+e.slice(1)}function a(){throw new Error("Subclass responsibility")}Object.defineProperty(n,"__esModule",{value:!0}),s.subclasses=[],s.allSubclasses=function(){var e=this.subclasses.slice();return this.subclasses.forEach(function(t){t.allSubclasses().forEach(function(t){e.push(t)})}),e},s.allConcreteSubclasses=function(){var e=this.subclasses.filter(function(e){return!e.isAbstract});return this.subclasses.forEach(function(t){t.allConcreteSubclasses().forEach(function(t){e.push(t)})}),e},s.subclassResponsibility=a,s.extensions=[];var l=/\bsuper\b/;s.subclass=function(e){function t(s,i,o){s=s||{},i=i||{},t.isAbstract&&!o&&c(),t.isSingleton&&!o&&u();var a=n(s,i,!0);a.getClass=function(){return t};var f=Object.assign({},a),b=Object.assign({},i);return t.extensions.forEach(function(e){e(a,i)}),e(a,i),l.test(e)&&(r(i,b,t,"my"),r(a,f,t,"that")),o||(i.preInitialize(s),i.initialize(s),i.postInitialize(s)),a}var n=this;return t.superclass=n,t.subclasses=[],n.subclasses.push(t),t.classBuilder=n.classBuilder,t.classBuilder(t),t},s.singletonSubclass=function(e){var t=this.subclass(e),n=t();return t.isSingleton=!0,t.instance=function(){return n},t},s.abstractSubclass=function(e){var t=this.subclass(e);return t.isAbstract=!0,t},s.class=function(e){var t=this;if(t===s)throw new Error("object class should not be extended.");var n=t.classBuilder;t.classBuilder=function(t){n(t),e(t)},t.classBuilder(t)},s.classBuilder=function(e){e.class=s.class,e.subclass=s.subclass,e.singletonSubclass=s.singletonSubclass,e.abstractSubclass=s.abstractSubclass,e.allSubclasses=s.allSubclasses,e.allConcreteSubclasses=s.allConcreteSubclasses,e.subclassResponsibility=a,e.extend=s.extend,e.extensions=[]},s.extend=function(e){this.extensions.push(e)},"function"!=typeof Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var s=arguments[n];if(void 0!==s&&null!==s)for(var r in s)s.hasOwnProperty(r)&&(t[r]=s[r])}return t}),n.default=s},{}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=function(e){return e&&e.__esModule?e:{default:e}}(e("./object"));n.default=s.default.subclass(function(e,t){t.initialize=function(e){t.super(e),t.instance=e.instance,t.accessListeners={},t.changeListeners={}},e.onAccess=function(e,n){t.accessListeners[e]||(t.accessListeners[e]=[]),-1===t.accessListeners[e].indexOf(n)&&t.accessListeners[e].push(n)},e.onChange=function(e,n){t.changeListeners[e]||(t.changeListeners[e]=[]),-1===t.changeListeners[e].indexOf(n)&&t.changeListeners[e].push(n)},e.emitAccess=function(e){t.accessListeners[e]&&t.accessListeners[e].forEach(function(n){n(t.instance,e)})},e.emitChange=function(e,n){t.changeListeners[e]&&t.changeListeners[e].forEach(function(s){s(t.instance,e,n)})}})},{"./object":3}],5:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var r=s(e("./object")),i=s(e("./propertiesEventEmitter")),c=s(e("./globalPropertyEventEmitter"));r.default.extend(function(e,t){function n(n){t.ensurePropertiesEventEmitter().emitAccess(n),c.default.instance().emitAccess(e,n)}function s(n,s){t.ensurePropertiesEventEmitter().emitChange(n,s),c.default.instance().emitChange(e,n,s)}e.onPropertyAccess=function(e,n){t.ensurePropertiesEventEmitter().onAccess(e,n)},e.onPropertyChange=function(e,n){t.ensurePropertiesEventEmitter().onChange(e,n)},t.property=function(e,r){var i=r;Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return n(e),i},set:function(t){s(e,i=t)}})},t.ensurePropertiesEventEmitter=function(){return t.propertiesEventEmitter?t.propertiesEventEmitter:(t.propertiesEventEmitter=(0,i.default)({instance:e}),t.propertiesEventEmitter)}})},{"./globalPropertyEventEmitter":1,"./object":3,"./propertiesEventEmitter":4}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=function(e){return e&&e.__esModule?e:{default:e}}(e("./object")).default.abstractSubclass(function(e,t){function n(e,n){t.force()?fdescribe(e,function(){n()}):describe(e,function(){n()})}t.initialize=function(e){t.super(e);var s=t.registeredTests();n(t.name(),function(){beforeEach(t.beforeEach),afterEach(t.afterEach),beforeAll(t.beforeAll),afterAll(t.afterAll),s.forEach(function(e){it(e.name,e.fn)})})},t.force=function(){return!1},t.beforeEach=function(){},t.beforeAll=function(){},t.afterEach=function(){},t.afterAll=function(){},t.name=function(){return t.subclassResponsibility()},t.expect=expect,t.spyOn=spyOn,t.registeredTests=function(){var e=[],n=/Test$/;return Object.keys(t).forEach(function(s){"function"==typeof t[s]&&n.test(s)&&e.push({name:t.buildTestName(s),fn:t[s]})}),e},t.buildTestName=function(e){return e=(e=e.slice(0,-4)).replace(/([A-Z][^A-Z]*)/g," $1"),e=e.toLowerCase()}});s.class(function(e){e.isTestCase=function(){return!0},e.subclass=function(t){return function(n,s){var r=t.apply(e,[n]);if(s&&s.isAbstract)return r;var i=r();return r.isSingleton=!0,r.instance=function(){return i},r}}(e.subclass),e.abstractSubclass=(e.abstractSubclass,function(e){var t=this.subclass(e,{isAbstract:!0});return t.isAbstract=!0,t})}),n.default=s},{"./object":3}]},{},[2])(2)});
//# sourceMappingURL=klassified.min.js.map
